<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administração - Seculus Construtora LTDA</title>
    <link rel="icon" type="image/x-icon" href="logo.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div class="container mt-4">
        <h1 class="text-center mb-5">Administração</h1>
        <div id="adminContent" style="display: none;">
            <p>Bem-vindo à área administrativa! Aqui você pode gerenciar usuários, obras e muito mais.</p>
            <!-- Adicione o conteúdo de administração aqui -->
        </div>
        <div id="accessDeniedMessage" class="alert alert-danger" style="display: none;">
            Acesso negado. Somente administradores podem acessar esta página.
        </div>
    </div>

    <script>
       $(document).ready(function() {
    $.ajax({
        url: 'check_admin.php',
        type: 'GET',
        success: function(response) {
            try {
                var data = JSON.parse(response);
                if (data.status === 'success') {
                    $('#adminContent').show();  // Mostrar o conteúdo admin
                    $('#accessDeniedMessage').hide();  // Esconder a mensagem de acesso negado
                } else {
                    $('#adminContent').hide();  // Esconder o conteúdo admin
                    $('#accessDeniedMessage').show();  // Mostrar a mensagem de acesso negado
                }
            } catch (e) {
                console.error("Erro ao parsear JSON:", e);
                $('#adminContent').hide();  // Esconder conteúdo admin em caso de erro
                $('#accessDeniedMessage').show();  // Mostrar mensagem de erro
            }
        },
        error: function(xhr, status, error) {
            console.error("Erro na requisição:", status, error);
            $('#adminContent').hide();  // Esconder conteúdo admin em caso de erro
            $('#accessDeniedMessage').show();  // Mostrar mensagem de erro
        }
    });
});
    </script>
</body>
</html>
